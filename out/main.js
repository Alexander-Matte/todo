(()=>{"use strict";class e{tasks=[];constructor(e){this.name=e}addTodo(e){this.tasks.push(e)}removeTodo(e){for(let t=this.tasks.length-1;t>=0;--t)this.tasks[t].title===e&&this.tasks.splice(t,1)}}class t{constructor(e,t,r,s){this.title=e,this.description=t,this.dueDate=r,this.prio=s}}function r(){document.querySelectorAll(".task-li").forEach((e=>{e.remove()}))}function s(e){document.querySelector(".content-header").innerText=e.name}function o(e){let t=document.querySelector("#task-list");e.tasks.forEach((e=>{let r=function(e){return`\n<div class="task-title">${e.title}</div>\n<div class="task-due">${e.dueDate}</div>\n<div class="task-prio">${e.prio}</div>\n<div class="btn-group">\n<button class="edit">edit</button>\n<button class="remove">remove</button>\n</div>\n`}(e),s=document.createElement("li");s.classList.add("task-li"),s.innerHTML=r,t.appendChild(s)}))}let c=new class{projects=[];constructor(){console.log("App Started"),this.addProject("All"),this.currentSelected=this.getProject("All")}addProject(t){let r=new e(t);this.projects.push(r)}removeProject(e){for(let t=this.projects.length-1;t>=0;--t)this.projects[t].name===e&&this.projects.splice(t,1)}getProject(e){for(let t=this.projects.length-1;t>=0;--t)if(this.projects[t].name===e)return this.projects[t]}};s(c.getProject("All")),document.querySelector("#app-status").addEventListener("click",(()=>{console.log(c)})),document.querySelector("#viewAllTasks").addEventListener("click",(()=>{r(),c.projects.forEach((e=>{o(e)}))}));const n=document.querySelector("#project-input-form");n.addEventListener("submit",(e=>{e.preventDefault();let t=document.querySelector("#projectName").value;c.addProject(t);let l=c.getProject(t);!function(e){let t=e.name,r=document.querySelector(".project-list"),s=document.createElement("li");s.classList.add("proj-li"),s.innerText=t,r.appendChild(s)}(l),document.querySelector(".project-list").lastChild.addEventListener("click",(()=>{r(),function(e){s(e),o(e)}(l);let e=document.querySelector(".content-header").innerHTML;c.currentSelected=c.getProject(e)})),n.reset()}));let l=document.querySelector("#task-input-form");l.addEventListener("submit",(e=>{e.preventDefault(),r();let s=c.currentSelected,n={title:document.querySelector("#task-title").value,desc:document.querySelector("#task-desc").value,due:document.querySelector("#task-due").value,prio:document.querySelector("#task-prio").value},i=new t(n.title,n.desc,n.due,n.prio);s.addTodo(i),o(s),l.reset()}))})();