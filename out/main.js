(()=>{"use strict";class e{tasks=[];constructor(e){this.name=e}addTodo(e){this.tasks.push(e)}removeTodo(e){for(let t=this.tasks.length-1;t>=0;--t)this.tasks[t].title===e&&this.tasks.splice(t,1)}}class t{constructor(e,t,s,r){this.title=e,this.description=t,this.dueDate=s,this.prio=r}}function s(){document.querySelectorAll(".task-li").forEach((e=>{e.remove()}))}function r(e){document.querySelector(".content-header").innerText=e.name}function o(e){let t=document.querySelector("#task-list");e.tasks.forEach((e=>{let s=function(e){return`\n<div class="task-title">${e.title}</div>\n<div class="task-due">${e.dueDate}</div>\n<div class="task-prio">${e.prio}</div>\n<div class="btn-group">\n<button class="edit">edit</button>\n<button class="remove">remove</button>\n</div>\n`}(e),r=document.createElement("li");r.classList.add("task-li"),r.innerHTML=s,t.appendChild(r)}))}let c=new class{projects=[];constructor(){console.log("App Started"),this.addProject("All"),this.currentSelected=this.getProject("All")}addProject(t){let s=new e(t);this.projects.push(s)}removeProject(e){for(let t=this.projects.length-1;t>=0;--t)this.projects[t].name===e&&this.projects.splice(t,1)}getProject(e){for(let t=this.projects.length-1;t>=0;--t)if(this.projects[t].name===e)return this.projects[t]}},n=c.getProject("All");r(n),document.querySelector("#app-status").addEventListener("click",(()=>{console.log(c)})),document.querySelector("#viewAllTasks").addEventListener("click",(()=>{s(),o(n),r(n)}));const l=document.querySelector("#project-input-form");l.addEventListener("submit",(e=>{e.preventDefault();let t=document.querySelector("#projectName").value;c.addProject(t);let n=c.getProject(t);!function(e){let t=e.name,s=document.querySelector(".project-list"),r=document.createElement("li");r.classList.add("proj-li"),r.innerText=t,s.appendChild(r)}(n),document.querySelector(".project-list").lastChild.addEventListener("click",(e=>{let t=e.target.innerHTML;s(),function(e){r(e),o(e)}(n),c.currentSelected=c.getProject(t)})),l.reset()}));let i=document.querySelector("#task-input-form");i.addEventListener("submit",(e=>{e.preventDefault(),s();let r=c.currentSelected,l={title:document.querySelector("#task-title").value,desc:document.querySelector("#task-desc").value,due:document.querySelector("#task-due").value,prio:document.querySelector("#task-prio").value},d=new t(l.title,l.desc,l.due,l.prio);r===n||r.addTodo(d),n.addTodo(d),o(r),i.reset()}))})();